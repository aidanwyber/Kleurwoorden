<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Kleurwoorden</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				font-family: system-ui, -apple-system, BlinkMacSystemFont,
					'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans',
					sans-serif;
			}
			html,
			body {
				width: 100%;
				height: 100%;
			}
			body {
				display: grid;
				background-color: #888;
				overflow: hidden;
			}
			body > .block {
				width: 100%;
				color: white;
				font-size: 0.5vw;
				transition: scale 0.25s ease;
				text-align: center;
				align-content: center;
				cursor: pointer;
			}
			body > .block:hover {
				scale: 1.5;
			}
			body > .block[open] {
				scale: 5;
			}
			code {
				font-family: 'Courier New', Courier, monospace;
				color: white;
			}
			#link {
				position: absolute;
				bottom: 0.2em;
				right: 0.5em;
				font-size: small;
			}
		</style>
	</head>
	<body>
		<div id="link">
			<a href="https://github.com/aidanwyber/Kleurwoorden" target="_blank"
				>GitHub</a
			>
		</div>
	</body>
	<script>
		async function main() {
			fetch('colour_words.json', {
				method: 'GET',
			})
				.then(function (response) {
					return response.json();
				})
				.then(function (colourWords) {
					const n = Object.keys(colourWords).length;
					const asp = window.innerWidth / window.innerHeight;
					const nCols =
						asp >= 1
							? Math.ceil(Math.sqrt(n))
							: Math.ceil(Math.sqrt(n) * asp);
					document.body.style.gridTemplateColumns = `repeat(${nCols}, 1fr)`;

					for (let colourName in colourWords) {
						const block = document.createElement('div');
						block.style.backgroundColor = colourWords[colourName];
						block.innerHTML = `${colourName}<br><code>${colourWords[colourName]}</code>`;
						block.classList.add('block');
						block.onclick = () => block.toggleAttribute('open');
						block.onmouseleave = () =>
							block.removeAttribute('open');
						document.body.appendChild(block);
					}
				});
		}
		main();
	</script>
</html>
